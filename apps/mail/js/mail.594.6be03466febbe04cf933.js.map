{"version":3,"file":"mail.594.6be03466febbe04cf933.js","mappings":"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","sources":["webpack://nextcloud-mail/./node_modules/@ckeditor/ckeditor5-build-balloon/build/translations/ lazy-once ^\\.\\/.*$ prefetchOrder: 0 preloadOrder: 0 namespace object","webpack://nextcloud-mail/./src/ckeditor/signature/InsertSignatureCommand.js","webpack://nextcloud-mail/./src/components/TextEditor.vue?3fe8","webpack://nextcloud-mail/./src/components/TextEditor.vue?13f7","webpack://nextcloud-mail/./src/components/TextEditor.vue","webpack://nextcloud-mail/./src/ckeditor/signature/SignaturePlugin.js","webpack://nextcloud-mail/./src/ckeditor/quote/QuotePlugin.js","webpack://nextcloud-mail/./src/ckeditor/mail/MailPlugin.js","webpack://nextcloud-mail/./src/ckeditor/smartpicker/InsertItemCommand.js","webpack://nextcloud-mail/./src/ckeditor/smartpicker/PickerPlugin.js","webpack://nextcloud-mail/src/components/TextEditor.vue","webpack://nextcloud-mail/./src/components/TextEditor.vue?5917","webpack://nextcloud-mail/./src/components/TextEditor.vue?3840","webpack://nextcloud-mail/./src/components/TextEditor.vue?8f40","webpack://nextcloud-mail/./src/components/TextEditor.vue?143c"],"sourcesContent":["var map = {\n\t\"./af\": 50554,\n\t\"./af.js\": 50554,\n\t\"./ar\": 51634,\n\t\"./ar.js\": 51634,\n\t\"./ast\": 29303,\n\t\"./ast.js\": 29303,\n\t\"./az\": 97078,\n\t\"./az.js\": 97078,\n\t\"./bg\": 80996,\n\t\"./bg.js\": 80996,\n\t\"./bn\": 48213,\n\t\"./bn.js\": 48213,\n\t\"./bs\": 3210,\n\t\"./bs.js\": 3210,\n\t\"./ca\": 89306,\n\t\"./ca.js\": 89306,\n\t\"./cs\": 35017,\n\t\"./cs.js\": 35017,\n\t\"./da\": 54505,\n\t\"./da.js\": 54505,\n\t\"./de\": 88780,\n\t\"./de-ch\": 32847,\n\t\"./de-ch.js\": 32847,\n\t\"./de.js\": 88780,\n\t\"./el\": 45374,\n\t\"./el.js\": 45374,\n\t\"./en-au\": 51920,\n\t\"./en-au.js\": 51920,\n\t\"./en-gb\": 98203,\n\t\"./en-gb.js\": 98203,\n\t\"./eo\": 49486,\n\t\"./eo.js\": 49486,\n\t\"./es\": 81565,\n\t\"./es-co\": 5604,\n\t\"./es-co.js\": 5604,\n\t\"./es.js\": 81565,\n\t\"./et\": 64458,\n\t\"./et.js\": 64458,\n\t\"./eu\": 48629,\n\t\"./eu.js\": 48629,\n\t\"./fa\": 96594,\n\t\"./fa.js\": 96594,\n\t\"./fi\": 17123,\n\t\"./fi.js\": 17123,\n\t\"./fr\": 34351,\n\t\"./fr.js\": 34351,\n\t\"./gl\": 57774,\n\t\"./gl.js\": 57774,\n\t\"./gu\": 4378,\n\t\"./gu.js\": 4378,\n\t\"./he\": 66007,\n\t\"./he.js\": 66007,\n\t\"./hi\": 21961,\n\t\"./hi.js\": 21961,\n\t\"./hr\": 54466,\n\t\"./hr.js\": 54466,\n\t\"./hu\": 49510,\n\t\"./hu.js\": 49510,\n\t\"./id\": 38623,\n\t\"./id.js\": 38623,\n\t\"./it\": 70848,\n\t\"./it.js\": 70848,\n\t\"./ja\": 2489,\n\t\"./ja.js\": 2489,\n\t\"./jv\": 4231,\n\t\"./jv.js\": 4231,\n\t\"./km\": 37113,\n\t\"./km.js\": 37113,\n\t\"./kn\": 12405,\n\t\"./kn.js\": 12405,\n\t\"./ko\": 66766,\n\t\"./ko.js\": 66766,\n\t\"./ku\": 95257,\n\t\"./ku.js\": 95257,\n\t\"./lt\": 49748,\n\t\"./lt.js\": 49748,\n\t\"./lv\": 24976,\n\t\"./lv.js\": 24976,\n\t\"./ms\": 5043,\n\t\"./ms.js\": 5043,\n\t\"./nb\": 240,\n\t\"./nb.js\": 240,\n\t\"./ne\": 63923,\n\t\"./ne.js\": 63923,\n\t\"./nl\": 71195,\n\t\"./nl.js\": 71195,\n\t\"./no\": 14962,\n\t\"./no.js\": 14962,\n\t\"./oc\": 26770,\n\t\"./oc.js\": 26770,\n\t\"./pl\": 10605,\n\t\"./pl.js\": 10605,\n\t\"./pt\": 18591,\n\t\"./pt-br\": 88827,\n\t\"./pt-br.js\": 88827,\n\t\"./pt.js\": 18591,\n\t\"./ro\": 24485,\n\t\"./ro.js\": 24485,\n\t\"./ru\": 94507,\n\t\"./ru.js\": 94507,\n\t\"./si\": 98608,\n\t\"./si.js\": 98608,\n\t\"./sk\": 61075,\n\t\"./sk.js\": 61075,\n\t\"./sl\": 44240,\n\t\"./sl.js\": 44240,\n\t\"./sq\": 5097,\n\t\"./sq.js\": 5097,\n\t\"./sr\": 50849,\n\t\"./sr-latn\": 83813,\n\t\"./sr-latn.js\": 83813,\n\t\"./sr.js\": 50849,\n\t\"./sv\": 48888,\n\t\"./sv.js\": 48888,\n\t\"./th\": 41089,\n\t\"./th.js\": 41089,\n\t\"./tk\": 10729,\n\t\"./tk.js\": 10729,\n\t\"./tr\": 15654,\n\t\"./tr.js\": 15654,\n\t\"./tt\": 5550,\n\t\"./tt.js\": 5550,\n\t\"./ug\": 34046,\n\t\"./ug.js\": 34046,\n\t\"./uk\": 46390,\n\t\"./uk.js\": 46390,\n\t\"./ur\": 28339,\n\t\"./ur.js\": 28339,\n\t\"./uz\": 2316,\n\t\"./uz.js\": 2316,\n\t\"./vi\": 23865,\n\t\"./vi.js\": 23865,\n\t\"./zh\": 4516,\n\t\"./zh-cn\": 60758,\n\t\"./zh-cn.js\": 60758,\n\t\"./zh.js\": 4516\n};\n\n\nfunction webpackAsyncContext(req) {\n\treturn webpackAsyncContextResolve(req).then(id => {\n\t\treturn __webpack_require__.t(id, 7 | 16);;\n\t});\n}\nfunction webpackAsyncContextResolve(req) {\n\treturn __webpack_require__.e(/* lazy-once context */ 390).then(() => {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\t\treturn map[req];\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.resolve = webpackAsyncContextResolve;\nwebpackAsyncContext.id = 72749;\nmodule.exports = webpackAsyncContext;","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command'\n\nexport const TRIGGER_CHANGE_ALIAS = 'change_alias'\nexport const TRIGGER_EDITOR_READY = 'editor_ready'\n\nexport default class InsertSignatureCommand extends Command {\n\n\t/**\n\t * Remove a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t */\n\tremoveSignatureElement(editor, writer) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot()\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element') && value.item.name === 'signature') {\n\t\t\t\twriter.remove(value.item)\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Insert a signature element\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\tinsertSignatureElement(editor, writer, signature, signatureAboveQuote) {\n\t\t// Skip empty signature\n\t\tif (signature.length === 0) {\n\t\t\treturn\n\t\t}\n\n\t\t// Convert an HTML string to a view document fragment:\n\t\tconst viewFragment = editor.data.processor.toView(signature)\n\n\t\t// Convert the view document fragment to a model document fragment\n\t\t// in the context of $root. This conversion takes the schema into\n\t\t// account so if, for example, the view document fragment contained a bare text node,\n\t\t// this text node cannot be a child of $root, so it will be automatically\n\t\t// wrapped with a <paragraph>. You can define the context yourself (in the second parameter),\n\t\t// and e.g. convert the content like it would happen in a <paragraph>.\n\t\t// Note: The clipboard feature uses a custom context called $clipboardHolder\n\t\t// which has a loosened schema.\n\t\tconst modelFragment = editor.data.toModel(viewFragment)\n\n\t\tconst signatureElement = writer.createElement('signature')\n\t\twriter.append(writer.createText('-- '), signatureElement)\n\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\twriter.append(modelFragment, signatureElement)\n\t\tif (signatureAboveQuote) {\n\t\t\twriter.append(writer.createElement('paragraph'), signatureElement)\n\t\t}\n\n\t\tconst signaturePosition = this.findPosition(editor, writer, signatureAboveQuote)\n\t\teditor.model.insertContent(signatureElement, signaturePosition)\n\t}\n\n\t/**\n\t * Find a position to insert the signature element.\n\t *\n\t * If signatureAboveQuote and a quote element exist the position\n\t * above the quoted text otherwise the end of the document.\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t * @return {module:engine/model/position~Position} position instance\n\t */\n\tfindPosition(editor, writer, signatureAboveQuote) {\n\t\tif (signatureAboveQuote) {\n\t\t\t// Create a range spanning over the entire root content:\n\t\t\tconst range = editor.model.createRangeIn(\n\t\t\t\teditor.model.document.getRoot()\n\t\t\t)\n\n\t\t\t// Iterate over all items in this range:\n\t\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\t\tif (value.item.is('element') && value.item.name === 'quote') {\n\t\t\t\t\treturn writer.createPositionBefore(value.item)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn writer.createPositionAt(editor.model.document.getRoot(), 'end')\n\t}\n\n\t/**\n\t * Check if a signature element exist\n\t *\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @return {boolean}\n\t */\n\thasSignatureElement(editor) {\n\t\t// Create a range spanning over the entire root content:\n\t\tconst range = editor.model.createRangeIn(\n\t\t\teditor.model.document.getRoot()\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tfor (const value of range.getWalker({ shallow: true })) {\n\t\t\tif (value.item.is('element')) {\n\t\t\t\tif (value.item.name === 'quote') {\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tif (value.item.name === 'signature') {\n\t\t\t\t\treturn true\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn false\n\t}\n\n\t/**\n\t * @param {string} trigger TRIGGER_CHANGE_ALIAS or TRIGGER_EDITOR_READY\n\t * @param {string} signature text\n\t * @param {boolean} signatureAboveQuote signature position: above/below the quoted text\n\t */\n\texecute(trigger, signature, signatureAboveQuote) {\n\t\tthis.editor.model.change(writer => {\n\t\t\t/**\n\t\t\t * TRIGGER_CHANGE_ALIAS:\n\t\t\t * Current signature is replaced.\n\t\t\t *\n\t\t\t * Use case: User selects a different alias.\n\t\t\t *\n\t\t\t * TRIGGER_EDITOR_READY:\n\t\t\t * Insert signature if non exist.\n\t\t\t *\n\t\t\t * Use case: Write new message, Modify signature, Save draft, Close Editor, Open editor\n\t\t\t */\n\n\t\t\tif (trigger === TRIGGER_CHANGE_ALIAS) {\n\t\t\t\tthis.removeSignatureElement(this.editor, writer)\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\n\t\t\tif (trigger === TRIGGER_EDITOR_READY && !this.hasSignatureElement(this.editor)) {\n\t\t\t\tthis.insertSignatureElement(this.editor, writer, signature, signatureAboveQuote)\n\t\t\t}\n\t\t})\n\t}\n\n\trefresh() {\n\t\tthis.isEnabled = true\n\t}\n\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `[data-v-2d80d17f] a{color:#07d}[data-v-2d80d17f] p{cursor:text;margin:0 !important}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\"AACA,oBACC,UAAA,CAED,oBACC,WAAA,CACA,mBAAA\",\"sourcesContent\":[\"\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n.ck .ck-reset {\n\tbackground: var(--color-main-background) !important;\n}\n.custom-item-username {\n\tcolor: var(--color-main-text) !important;\n}\n.link-title{\n\tcolor: var(--color-main-text) !important;\n}\n.link-icon{\n\twidth : 20px !important;\n\tmargin-right : 1em !important;\n\tfilter : var(--background-invert-if-dark);\n}\n.custom-item {\n\twidth : 100% !important;\n\tborder-radius : 8px !important;\n\tpadding : 4px 8px !important;\n\tdisplay :block;\n\tbackground:var(--color-main-background)!important;\n}\n.custom-item:hover {\n\tbackground:var(--color-primary-element-light)!important;\n}\n.link-container{\n\tborder-radius :8px !important;\n\tpadding :4px 8px !important;\n\tdisplay : block;\n\twidth : 100% !important;\n\tbackground:var(--color-main-background)!important;\n}\n.link-container:hover {\n\tbackground:var(--color-primary-element-light)!important;\n}\n:root {\n\t--ck-z-default: 10000;\n\t--ck-balloon-border-width:  0;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/TextEditor.vue\"],\"names\":[],\"mappings\":\";AAgUA;;;EAGA;AACA;CACA,mDAAA;AACA;AACA;CACA,wCAAA;AACA;AACA;CACA,wCAAA;AACA;AACA;CACA,uBAAA;CACA,6BAAA;CACA,yCAAA;AACA;AACA;CACA,uBAAA;CACA,8BAAA;CACA,4BAAA;CACA,cAAA;CACA,iDAAA;AACA;AACA;CACA,uDAAA;AACA;AACA;CACA,6BAAA;CACA,2BAAA;CACA,eAAA;CACA,uBAAA;CACA,iDAAA;AACA;AACA;CACA,uDAAA;AACA;AACA;CACA,qBAAA;CACA,6BAAA;AACA\",\"sourcesContent\":[\"<!--\\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  -\\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\\n  -\\n  - @license AGPL-3.0-or-later\\n  -\\n  - This program is free software: you can redistribute it and/or modify\\n  - it under the terms of the GNU Affero General Public License as\\n  - published by the Free Software Foundation, either version 3 of the\\n  - License, or (at your option) any later version.\\n  -\\n  - This program is distributed in the hope that it will be useful,\\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\\n  - GNU Affero General Public License for more details.\\n  -\\n  - You should have received a copy of the GNU Affero General Public License\\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\\n  -->\\n\\n<template>\\n\\t<ckeditor\\n\\t\\tv-if=\\\"ready\\\"\\n\\t\\t:value=\\\"value\\\"\\n\\t\\t:config=\\\"config\\\"\\n\\t\\t:editor=\\\"editor\\\"\\n\\t\\t:disabled=\\\"disabled\\\"\\n\\t\\t@input=\\\"onEditorInput\\\"\\n\\t\\t@ready=\\\"onEditorReady\\\" />\\n</template>\\n\\n<script>\\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment'\\nimport { Mention } from '@ckeditor/ckeditor5-mention'\\nimport Editor from '@ckeditor/ckeditor5-editor-balloon/src/ballooneditor'\\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials'\\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote'\\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold'\\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font'\\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph'\\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading'\\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic'\\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link'\\nimport ListStyle from '@ckeditor/ckeditor5-list/src/liststyle'\\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin.js'\\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough'\\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin.js'\\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter'\\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image'\\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize'\\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload'\\nimport MailPlugin from '../ckeditor/mail/MailPlugin.js'\\nimport { searchProvider, getLinkWithPicker } from '@nextcloud/vue/dist/Components/NcRichText'\\nimport { emojiSearch, emojiAddRecent } from '@nextcloud/vue/dist/Functions/emoji'\\nimport { getLanguage } from '@nextcloud/l10n'\\nimport logger from '../logger.js'\\nimport PickerPlugin from '../ckeditor/smartpicker/PickerPlugin.js'\\n\\nexport default {\\n\\tname: 'TextEditor',\\n\\tcomponents: {\\n\\t\\tckeditor: CKEditor.component,\\n\\t},\\n\\tprops: {\\n\\t\\tvalue: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\thtml: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tplaceholder: {\\n\\t\\t\\ttype: String,\\n\\t\\t\\tdefault: '',\\n\\t\\t},\\n\\t\\tfocus: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t\\tbus: {\\n\\t\\t\\ttype: Object,\\n\\t\\t\\trequired: true,\\n\\t\\t},\\n\\t\\tdisabled: {\\n\\t\\t\\ttype: Boolean,\\n\\t\\t\\tdefault: false,\\n\\t\\t},\\n\\t},\\n\\tdata() {\\n\\t\\tconst plugins = [\\n\\t\\t\\tEssentialsPlugin,\\n\\t\\t\\tParagraphPlugin,\\n\\t\\t\\tSignaturePlugin,\\n\\t\\t\\tQuotePlugin,\\n\\t\\t\\tPickerPlugin,\\n\\t\\t\\tMention,\\n\\t\\t]\\n\\t\\tconst toolbar = ['undo', 'redo']\\n\\n\\t\\tif (this.html) {\\n\\t\\t\\tplugins.push(...[\\n\\t\\t\\t\\tHeadingPlugin,\\n\\t\\t\\t\\tAlignmentPlugin,\\n\\t\\t\\t\\tBoldPlugin,\\n\\t\\t\\t\\tItalicPlugin,\\n\\t\\t\\t\\tBlockQuotePlugin,\\n\\t\\t\\t\\tLinkPlugin,\\n\\t\\t\\t\\tListStyle,\\n\\t\\t\\t\\tFontPlugin,\\n\\t\\t\\t\\tRemoveFormat,\\n\\t\\t\\t\\tStrikethroughPlugin,\\n\\t\\t\\t\\tImagePlugin,\\n\\t\\t\\t\\tImageUploadPlugin,\\n\\t\\t\\t\\tBase64UploadAdapter,\\n\\t\\t\\t\\tImageResizePlugin,\\n\\t\\t\\t\\tMailPlugin,\\n\\t\\t\\t])\\n\\t\\t\\ttoolbar.unshift(...[\\n\\t\\t\\t\\t'heading',\\n\\t\\t\\t\\t'fontFamily',\\n\\t\\t\\t\\t'fontSize',\\n\\t\\t\\t\\t'bold',\\n\\t\\t\\t\\t'italic',\\n\\t\\t\\t\\t'fontColor',\\n\\t\\t\\t\\t'imageUpload',\\n\\t\\t\\t\\t'alignment',\\n\\t\\t\\t\\t'bulletedList',\\n\\t\\t\\t\\t'numberedList',\\n\\t\\t\\t\\t'blockquote',\\n\\t\\t\\t\\t'fontBackgroundColor',\\n\\t\\t\\t\\t'strikethrough',\\n\\t\\t\\t\\t'link',\\n\\t\\t\\t\\t'removeFormat',\\n\\t\\t\\t])\\n\\t\\t}\\n\\n\\t\\treturn {\\n\\t\\t\\tlinkTribute: null,\\n\\t\\t\\temojiTribute: null,\\n\\t\\t\\ttextSmiles: [],\\n\\t\\t\\tready: false,\\n\\t\\t\\teditor: Editor,\\n\\t\\t\\tconfig: {\\n\\t\\t\\t\\tplaceholder: this.placeholder,\\n\\t\\t\\t\\tplugins,\\n\\t\\t\\t\\ttoolbar: {\\n\\t\\t\\t\\t\\titems: toolbar,\\n\\t\\t\\t\\t},\\n\\t\\t\\t\\tlanguage: 'en',\\n\\t\\t\\t\\tmention: {\\n\\t\\t\\t\\t\\tfeeds: [\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tmarker: ':',\\n\\t\\t\\t\\t\\t\\t\\tfeed: this.getEmoji,\\n\\t\\t\\t\\t\\t\\t\\titemRenderer: this.customEmojiRenderer,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t\\t{\\n\\t\\t\\t\\t\\t\\t\\tmarker: '/',\\n\\t\\t\\t\\t\\t\\t\\tfeed: this.getLink,\\n\\t\\t\\t\\t\\t\\t\\titemRenderer: this.customLinkRenderer,\\n\\t\\t\\t\\t\\t\\t},\\n\\t\\t\\t\\t\\t],\\n\\t\\t\\t\\t},\\n\\t\\t\\t},\\n\\t\\t}\\n\\t},\\n\\tbeforeMount() {\\n\\t\\tthis.loadEditorTranslations(getLanguage())\\n\\t},\\n\\tmethods: {\\n\\t\\tgetLink(text) {\\n\\t\\t\\tconst results = searchProvider(text)\\n\\t\\t\\tif (results.length === 1 && !results[0].title.toLowerCase().includes(text.toLowerCase())) {\\n\\t\\t\\t\\treturn []\\n\\t\\t\\t}\\n\\t\\t\\treturn results\\n\\t\\t},\\n\\t\\tgetEmoji(text) {\\n\\t\\t\\tconst emojiResults = emojiSearch(text)\\n\\t\\t\\tif (this.textSmiles.includes(':' + text)) {\\n\\n\\t\\t\\t\\temojiResults.unshift(':' + text)\\n\\t\\t\\t}\\n\\t\\t\\treturn emojiResults\\n\\t\\t},\\n\\t\\t customEmojiRenderer(item) {\\n\\t\\t\\tconst itemElement = document.createElement('span')\\n\\n\\t\\t\\titemElement.classList.add('custom-item')\\n\\t\\t\\titemElement.id = `mention-list-item-id-${item.colons}`\\n\\t\\t\\titemElement.textContent = `${item.native} `\\n\\t\\t\\tconst usernameElement = document.createElement('span')\\n\\n\\t\\t\\tusernameElement.classList.add('custom-item-username')\\n\\t\\t\\tusernameElement.textContent = item.colons\\n\\n\\t\\t\\titemElement.appendChild(usernameElement)\\n\\n\\t\\t\\treturn itemElement\\n\\t\\t},\\n\\t\\tcustomLinkRenderer(item) {\\n\\t\\t\\tconst itemElement = document.createElement('span')\\n\\t\\t\\titemElement.classList.add('link-container')\\n\\n\\t\\t\\tconst icon = document.createElement('img')\\n\\t\\t\\ticon.classList.add('link-icon')\\n\\t\\t\\ticon.src = `${item.icon_url} `\\n\\n\\t\\t\\tconst usernameElement = document.createElement('span')\\n\\n\\t\\t\\tusernameElement.classList.add('link-title')\\n\\t\\t\\tusernameElement.textContent = `${item.title} `\\n\\t\\t\\titemElement.appendChild(icon)\\n\\t\\t\\titemElement.appendChild(usernameElement)\\n\\n\\t\\t\\treturn itemElement\\n\\t\\t},\\n\\t\\tasync loadEditorTranslations(language) {\\n\\t\\t\\tif (language === 'en') {\\n\\t\\t\\t\\t// The default, nothing to fetch\\n\\t\\t\\t\\treturn this.showEditor('en')\\n\\t\\t\\t}\\n\\n\\t\\t\\ttry {\\n\\t\\t\\t\\tlogger.debug(`loading ${language} translations for CKEditor`)\\n\\t\\t\\t\\tawait import(\\n\\t\\t\\t\\t\\t/* webpackMode: \\\"lazy-once\\\" */\\n\\t\\t\\t\\t\\t/* webpackPrefetch: true */\\n\\t\\t\\t\\t\\t/* webpackPreload: true */\\n\\t\\t\\t\\t\\t`@ckeditor/ckeditor5-build-balloon/build/translations/${language}`\\n\\t\\t\\t\\t)\\n\\t\\t\\t\\tthis.showEditor(language)\\n\\t\\t\\t} catch (error) {\\n\\t\\t\\t\\tlogger.error(`could not find CKEditor translations for \\\"${language}\\\"`, { error })\\n\\t\\t\\t\\tthis.showEditor('en')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tshowEditor(language) {\\n\\t\\t\\tlogger.debug(`using \\\"${language}\\\" as CKEditor language`)\\n\\t\\t\\tthis.config.language = language\\n\\n\\t\\t\\tthis.ready = true\\n\\t\\t},\\n\\t\\t/**\\n\\t\\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\\n\\t\\t */\\n\\t\\tonEditorReady(editor) {\\n\\t\\t\\tlogger.debug('TextEditor is ready', { editor })\\n\\n\\t\\t\\teditor.commands.get('mention')?.on('execute', (event, data) => {\\n\\t\\t\\t\\tevent.stop()\\n\\t\\t\\t\\tconst eventData = data[0]\\n\\t\\t\\t\\tconst item = eventData.mention\\n\\t\\t\\t\\tif (eventData.marker === ':') {\\n\\t\\t\\t\\t\\temojiAddRecent(item)\\n\\t\\t\\t\\t\\tthis.editorInstance.execute('insertItem', item.native, ':')\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tif (eventData.marker === '/') {\\n\\t\\t\\t\\t\\tgetLinkWithPicker(item.id)\\n\\t\\t\\t\\t\\t\\t.then((link) => {\\n\\t\\t\\t\\t\\t\\t\\tthis.editorInstance.execute('insertItem', link, '/')\\n\\t\\t\\t\\t\\t\\t\\tthis.editorInstance.editing.view.focus()\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t\\t\\t.catch((error) => {\\n\\t\\t\\t\\t\\t\\t\\tconsole.debug('Smart picker promise rejected:', error)\\n\\t\\t\\t\\t\\t\\t})\\n\\t\\t\\t\\t}\\n\\t\\t\\t}, { priority: 'high' })\\n\\t\\t\\tthis.editorInstance = editor\\n\\n\\t\\t\\tif (this.focus) {\\n\\t\\t\\t\\tlogger.debug('focusing TextEditor')\\n\\t\\t\\t\\teditor.editing.view.focus()\\n\\t\\t\\t}\\n\\n\\t\\t\\tif (this.html) {\\n\\t\\t\\t\\tthis.$emit('show-toolbar', editor.ui._focusableToolbarDefinitions[0].toolbarView.element)\\n\\t\\t\\t}\\n\\t\\t\\tthis.bus.$on('append-to-body-at-cursor', this.appendToBodyAtCursor)\\n\\t\\t\\tthis.$emit('ready', editor)\\n\\t\\t},\\n\\t\\tonEditorInput(text) {\\n\\t\\t\\tif (text !== this.value) {\\n\\t\\t\\t\\tlogger.debug(`TextEditor input changed to <${text}>`)\\n\\t\\t\\t\\tthis.$emit('input', text)\\n\\t\\t\\t}\\n\\t\\t},\\n\\t\\tappendToBodyAtCursor(toAppend) {\\n\\t\\t\\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\\n\\t\\t\\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\\n\\t\\t\\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\\n\\t\\t\\tthis.editorInstance.model.insertContent(modelFragment)\\n\\t\\t},\\n\\t\\teditorExecute(commandName, ...args) {\\n\\t\\t\\tif (this.editorInstance) {\\n\\t\\t\\t\\tthis.editorInstance.execute(commandName, ...args)\\n\\t\\t\\t} else {\\n\\t\\t\\t\\tthrow new Error('Impossible to execute a command before editor is ready.')\\n\\t\\t\\t}\\n\\t\\t},\\n\\t},\\n}\\n</script>\\n\\n<style lang=\\\"scss\\\" scoped>\\n:deep(a) {\\n\\tcolor: #07d;\\n}\\n:deep(p) {\\n\\tcursor: text;\\n\\tmargin: 0 !important;\\n}\\n</style>\\n\\n<style>\\n/*\\nOverwrite the default z-index for CKEditor\\nhttps://github.com/ckeditor/ckeditor5/issues/1142\\n */\\n .ck .ck-reset {\\n\\tbackground: var(--color-main-background) !important;\\n }\\n .custom-item-username {\\n\\tcolor: var(--color-main-text) !important;\\n }\\n .link-title{\\n\\tcolor: var(--color-main-text) !important;\\n }\\n .link-icon{\\n\\twidth : 20px !important;\\n\\tmargin-right : 1em !important;\\n\\tfilter : var(--background-invert-if-dark);\\n }\\n .custom-item {\\n\\twidth : 100% !important;\\n\\tborder-radius : 8px !important;\\n\\tpadding : 4px 8px !important;\\n\\tdisplay :block;\\n\\tbackground:var(--color-main-background)!important;\\n }\\n .custom-item:hover {\\n\\tbackground:var(--color-primary-element-light)!important;\\n }\\n .link-container{\\n\\tborder-radius :8px !important;\\n\\tpadding :4px 8px !important;\\n\\tdisplay : block;\\n\\twidth : 100% !important;\\n\\tbackground:var(--color-main-background)!important;\\n }\\n .link-container:hover {\\n\\tbackground:var(--color-primary-element-light)!important;\\n }\\n:root {\\n\\t--ck-z-default: 10000;\\n\\t--ck-balloon-border-width:  0;\\n\\t}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.ready)?_c('ckeditor',{attrs:{\"value\":_vm.value,\"config\":_vm.config,\"editor\":_vm.editor,\"disabled\":_vm.disabled},on:{\"input\":_vm.onEditorInput,\"ready\":_vm.onEditorReady}}):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport InsertSignatureCommand from './InsertSignatureCommand.js'\n\nexport default class Signature extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\n\t\tthis.editor.commands.add(\n\t\t\t'insertSignature',\n\t\t\tnew InsertSignatureCommand(this.editor)\n\t\t)\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('signature', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'signature',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'signature',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * @copyright 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>\n *\n * @author 2021 Silvio Zimmer <silvio.zimmer@die-kinderwelt.com>\n *\n * @license AGPL-3.0-or-later\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\n\nexport default class Quote extends Plugin {\n\n\tinit() {\n\t\tthis._defineSchema()\n\t\tthis._defineConverters()\n\t}\n\n\t_defineSchema() {\n\t\tconst schema = this.editor.model.schema\n\n\t\tschema.register('quote', {\n\t\t\tinheritAllFrom: '$container',\n\t\t})\n\t}\n\n\t_defineConverters() {\n\t\tconst conversion = this.editor.conversion\n\n\t\tconversion.elementToElement({\n\t\t\tmodel: 'quote',\n\t\t\tview: {\n\t\t\t\tname: 'div',\n\t\t\t\tclasses: 'quote',\n\t\t\t},\n\t\t})\n\t}\n\n}\n","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * @license AGPL-3.0-or-later\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport { Paragraph } from '@ckeditor/ckeditor5-paragraph'\n\nexport default class Mail extends Plugin {\n\n\tstatic get requires() {\n\t\treturn [Paragraph]\n\t}\n\n\tinit() {\n\t\tthis._overwriteParagraphConversion()\n\t}\n\n\t/**\n\t * Overwrite the elementToElement conversion\n\t * from the default paragraph plugin to add\n\t * margin:0 to every <p>.\n\t *\n\t * @private\n\t */\n\t_overwriteParagraphConversion() {\n\t\tthis.editor.conversion.elementToElement({\n\t\t\tmodel: 'paragraph',\n\t\t\tview: {\n\t\t\t\tname: 'p',\n\t\t\t\tstyles: {\n\t\t\t\t\tmargin: 0,\n\t\t\t\t},\n\t\t\t},\n\t\t\tconverterPriority: 'high',\n\t\t})\n\t}\n\n}\n","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Command from '@ckeditor/ckeditor5-core/src/command'\nexport default class InsertItemCommand extends Command {\n\n\t/**\n\t * @param {module:core/editor/editor~Editor} editor instance\n\t * @param {module:engine/model/writer~Writer} writer instance\n\t * @param {string} item smart picker or emoji picker\n\t * @param {string} trigger the character to replace\n\t */\n\tinsertItem(editor, writer, item, trigger) {\n\t\tconst currentPosition = editor.model.document.selection.getLastPosition()\n\t\tif (currentPosition === null) {\n\t\t\t// null as current position is probably not possible\n\t\t\t// @TODO Add error to handle such a situation in the callback\n\t\t\treturn\n\t\t}\n\n\t\tconst range = editor.model.createRange(\n\t\t\tcurrentPosition.getShiftedBy(-5),\n\t\t\tcurrentPosition\n\t\t)\n\n\t\t// Iterate over all items in this range:\n\t\tconst walker = range.getWalker({ shallow: false, direction: 'backward' })\n\n\t\tfor (const value of walker) {\n\t\t\tif (value.type === 'text' && value.item.data.includes(trigger)) {\n\t\t\t\twriter.remove(value.item)\n\n\t\t\t\tconst text = value.item.data\n\t\t\t\tconst lastSlash = text.lastIndexOf(trigger)\n\n\t\t\t\tconst textElement = writer.createElement('paragraph')\n\t\t\t\twriter.insertText(text.substring(0, lastSlash), textElement)\n\t\t\t\teditor.model.insertContent(textElement)\n\n\t\t\t\tconst itemElement = writer.createElement('paragraph')\n\t\t\t\twriter.insertText(item, itemElement)\n\t\t\t\teditor.model.insertContent(itemElement)\n\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// @TODO If we end up here, we did not find the slash. We should throw an error maybe.\n\t}\n\n\t/**\n\t * @param {string}  item link from smart picker or emoji from emoji picker\n\t * @param {string} trigger the character to replace\n\t */\n\texecute(item, trigger) {\n\t\tthis.editor.model.change(writer => {\n\t\t\tthis.insertItem(this.editor, writer, item, trigger)\n\t\t})\n\t}\n\n\trefresh() {\n\t\tthis.isEnabled = true\n\t}\n\n}\n","/**\n * @author Daniel Kesselberg <mail@danielkesselberg.de>\n *\n * Mail\n *\n * This code is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License, version 3,\n * as published by the Free Software Foundation.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License, version 3,\n * along with this program.  If not, see <http://www.gnu.org/licenses/>\n *\n */\n\nimport Plugin from '@ckeditor/ckeditor5-core/src/plugin'\nimport InsertItemCommand from './InsertItemCommand.js'\nexport default class PickerPlugin extends Plugin {\n\n\tinit() {\n\t\tthis.editor.commands.add(\n\t\t\t'insertItem',\n\t\t\tnew InsertItemCommand(this.editor)\n\t\t)\n\t}\n\n}\n","<!--\n  - @copyright 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  -\n  - @author 2019 Christoph Wurst <christoph@winzerhof-wurst.at>\n  - @author 2022 Richard Steinmetz <richard@steinmetz.cloud>\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program.  If not, see <http://www.gnu.org/licenses/>.\n  -->\n\n<template>\n\t<ckeditor\n\t\tv-if=\"ready\"\n\t\t:value=\"value\"\n\t\t:config=\"config\"\n\t\t:editor=\"editor\"\n\t\t:disabled=\"disabled\"\n\t\t@input=\"onEditorInput\"\n\t\t@ready=\"onEditorReady\" />\n</template>\n\n<script>\nimport CKEditor from '@ckeditor/ckeditor5-vue2'\nimport AlignmentPlugin from '@ckeditor/ckeditor5-alignment/src/alignment'\nimport { Mention } from '@ckeditor/ckeditor5-mention'\nimport Editor from '@ckeditor/ckeditor5-editor-balloon/src/ballooneditor'\nimport EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials'\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote'\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold'\nimport FontPlugin from '@ckeditor/ckeditor5-font/src/font'\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph'\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading'\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic'\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link'\nimport ListStyle from '@ckeditor/ckeditor5-list/src/liststyle'\nimport RemoveFormat from '@ckeditor/ckeditor5-remove-format/src/removeformat'\nimport SignaturePlugin from '../ckeditor/signature/SignaturePlugin.js'\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough'\nimport QuotePlugin from '../ckeditor/quote/QuotePlugin.js'\nimport Base64UploadAdapter from '@ckeditor/ckeditor5-upload/src/adapters/base64uploadadapter'\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image'\nimport ImageResizePlugin from '@ckeditor/ckeditor5-image/src/imageresize'\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload'\nimport MailPlugin from '../ckeditor/mail/MailPlugin.js'\nimport { searchProvider, getLinkWithPicker } from '@nextcloud/vue/dist/Components/NcRichText'\nimport { emojiSearch, emojiAddRecent } from '@nextcloud/vue/dist/Functions/emoji'\nimport { getLanguage } from '@nextcloud/l10n'\nimport logger from '../logger.js'\nimport PickerPlugin from '../ckeditor/smartpicker/PickerPlugin.js'\n\nexport default {\n\tname: 'TextEditor',\n\tcomponents: {\n\t\tckeditor: CKEditor.component,\n\t},\n\tprops: {\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thtml: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tbus: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata() {\n\t\tconst plugins = [\n\t\t\tEssentialsPlugin,\n\t\t\tParagraphPlugin,\n\t\t\tSignaturePlugin,\n\t\t\tQuotePlugin,\n\t\t\tPickerPlugin,\n\t\t\tMention,\n\t\t]\n\t\tconst toolbar = ['undo', 'redo']\n\n\t\tif (this.html) {\n\t\t\tplugins.push(...[\n\t\t\t\tHeadingPlugin,\n\t\t\t\tAlignmentPlugin,\n\t\t\t\tBoldPlugin,\n\t\t\t\tItalicPlugin,\n\t\t\t\tBlockQuotePlugin,\n\t\t\t\tLinkPlugin,\n\t\t\t\tListStyle,\n\t\t\t\tFontPlugin,\n\t\t\t\tRemoveFormat,\n\t\t\t\tStrikethroughPlugin,\n\t\t\t\tImagePlugin,\n\t\t\t\tImageUploadPlugin,\n\t\t\t\tBase64UploadAdapter,\n\t\t\t\tImageResizePlugin,\n\t\t\t\tMailPlugin,\n\t\t\t])\n\t\t\ttoolbar.unshift(...[\n\t\t\t\t'heading',\n\t\t\t\t'fontFamily',\n\t\t\t\t'fontSize',\n\t\t\t\t'bold',\n\t\t\t\t'italic',\n\t\t\t\t'fontColor',\n\t\t\t\t'imageUpload',\n\t\t\t\t'alignment',\n\t\t\t\t'bulletedList',\n\t\t\t\t'numberedList',\n\t\t\t\t'blockquote',\n\t\t\t\t'fontBackgroundColor',\n\t\t\t\t'strikethrough',\n\t\t\t\t'link',\n\t\t\t\t'removeFormat',\n\t\t\t])\n\t\t}\n\n\t\treturn {\n\t\t\tlinkTribute: null,\n\t\t\temojiTribute: null,\n\t\t\ttextSmiles: [],\n\t\t\tready: false,\n\t\t\teditor: Editor,\n\t\t\tconfig: {\n\t\t\t\tplaceholder: this.placeholder,\n\t\t\t\tplugins,\n\t\t\t\ttoolbar: {\n\t\t\t\t\titems: toolbar,\n\t\t\t\t},\n\t\t\t\tlanguage: 'en',\n\t\t\t\tmention: {\n\t\t\t\t\tfeeds: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmarker: ':',\n\t\t\t\t\t\t\tfeed: this.getEmoji,\n\t\t\t\t\t\t\titemRenderer: this.customEmojiRenderer,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmarker: '/',\n\t\t\t\t\t\t\tfeed: this.getLink,\n\t\t\t\t\t\t\titemRenderer: this.customLinkRenderer,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t},\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis.loadEditorTranslations(getLanguage())\n\t},\n\tmethods: {\n\t\tgetLink(text) {\n\t\t\tconst results = searchProvider(text)\n\t\t\tif (results.length === 1 && !results[0].title.toLowerCase().includes(text.toLowerCase())) {\n\t\t\t\treturn []\n\t\t\t}\n\t\t\treturn results\n\t\t},\n\t\tgetEmoji(text) {\n\t\t\tconst emojiResults = emojiSearch(text)\n\t\t\tif (this.textSmiles.includes(':' + text)) {\n\n\t\t\t\temojiResults.unshift(':' + text)\n\t\t\t}\n\t\t\treturn emojiResults\n\t\t},\n\t\t customEmojiRenderer(item) {\n\t\t\tconst itemElement = document.createElement('span')\n\n\t\t\titemElement.classList.add('custom-item')\n\t\t\titemElement.id = `mention-list-item-id-${item.colons}`\n\t\t\titemElement.textContent = `${item.native} `\n\t\t\tconst usernameElement = document.createElement('span')\n\n\t\t\tusernameElement.classList.add('custom-item-username')\n\t\t\tusernameElement.textContent = item.colons\n\n\t\t\titemElement.appendChild(usernameElement)\n\n\t\t\treturn itemElement\n\t\t},\n\t\tcustomLinkRenderer(item) {\n\t\t\tconst itemElement = document.createElement('span')\n\t\t\titemElement.classList.add('link-container')\n\n\t\t\tconst icon = document.createElement('img')\n\t\t\ticon.classList.add('link-icon')\n\t\t\ticon.src = `${item.icon_url} `\n\n\t\t\tconst usernameElement = document.createElement('span')\n\n\t\t\tusernameElement.classList.add('link-title')\n\t\t\tusernameElement.textContent = `${item.title} `\n\t\t\titemElement.appendChild(icon)\n\t\t\titemElement.appendChild(usernameElement)\n\n\t\t\treturn itemElement\n\t\t},\n\t\tasync loadEditorTranslations(language) {\n\t\t\tif (language === 'en') {\n\t\t\t\t// The default, nothing to fetch\n\t\t\t\treturn this.showEditor('en')\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tlogger.debug(`loading ${language} translations for CKEditor`)\n\t\t\t\tawait import(\n\t\t\t\t\t/* webpackMode: \"lazy-once\" */\n\t\t\t\t\t/* webpackPrefetch: true */\n\t\t\t\t\t/* webpackPreload: true */\n\t\t\t\t\t`@ckeditor/ckeditor5-build-balloon/build/translations/${language}`\n\t\t\t\t)\n\t\t\t\tthis.showEditor(language)\n\t\t\t} catch (error) {\n\t\t\t\tlogger.error(`could not find CKEditor translations for \"${language}\"`, { error })\n\t\t\t\tthis.showEditor('en')\n\t\t\t}\n\t\t},\n\t\tshowEditor(language) {\n\t\t\tlogger.debug(`using \"${language}\" as CKEditor language`)\n\t\t\tthis.config.language = language\n\n\t\t\tthis.ready = true\n\t\t},\n\t\t/**\n\t\t * @param {module:core/editor/editor~Editor} editor editor the editor instance\n\t\t */\n\t\tonEditorReady(editor) {\n\t\t\tlogger.debug('TextEditor is ready', { editor })\n\n\t\t\teditor.commands.get('mention')?.on('execute', (event, data) => {\n\t\t\t\tevent.stop()\n\t\t\t\tconst eventData = data[0]\n\t\t\t\tconst item = eventData.mention\n\t\t\t\tif (eventData.marker === ':') {\n\t\t\t\t\temojiAddRecent(item)\n\t\t\t\t\tthis.editorInstance.execute('insertItem', item.native, ':')\n\t\t\t\t}\n\t\t\t\tif (eventData.marker === '/') {\n\t\t\t\t\tgetLinkWithPicker(item.id)\n\t\t\t\t\t\t.then((link) => {\n\t\t\t\t\t\t\tthis.editorInstance.execute('insertItem', link, '/')\n\t\t\t\t\t\t\tthis.editorInstance.editing.view.focus()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tconsole.debug('Smart picker promise rejected:', error)\n\t\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}, { priority: 'high' })\n\t\t\tthis.editorInstance = editor\n\n\t\t\tif (this.focus) {\n\t\t\t\tlogger.debug('focusing TextEditor')\n\t\t\t\teditor.editing.view.focus()\n\t\t\t}\n\n\t\t\tif (this.html) {\n\t\t\t\tthis.$emit('show-toolbar', editor.ui._focusableToolbarDefinitions[0].toolbarView.element)\n\t\t\t}\n\t\t\tthis.bus.$on('append-to-body-at-cursor', this.appendToBodyAtCursor)\n\t\t\tthis.$emit('ready', editor)\n\t\t},\n\t\tonEditorInput(text) {\n\t\t\tif (text !== this.value) {\n\t\t\t\tlogger.debug(`TextEditor input changed to <${text}>`)\n\t\t\t\tthis.$emit('input', text)\n\t\t\t}\n\t\t},\n\t\tappendToBodyAtCursor(toAppend) {\n\t\t\t// https://ckeditor.com/docs/ckeditor5/latest/builds/guides/faq.html#where-are-the-editorinserthtml-and-editorinserttext-methods-how-to-insert-some-content\n\t\t\tconst viewFragment = this.editorInstance.data.processor.toView(toAppend)\n\t\t\tconst modelFragment = this.editorInstance.data.toModel(viewFragment)\n\t\t\tthis.editorInstance.model.insertContent(modelFragment)\n\t\t},\n\t\teditorExecute(commandName, ...args) {\n\t\t\tif (this.editorInstance) {\n\t\t\t\tthis.editorInstance.execute(commandName, ...args)\n\t\t\t} else {\n\t\t\t\tthrow new Error('Impossible to execute a command before editor is ready.')\n\t\t\t}\n\t\t},\n\t},\n}\n</script>\n\n<style lang=\"scss\" scoped>\n:deep(a) {\n\tcolor: #07d;\n}\n:deep(p) {\n\tcursor: text;\n\tmargin: 0 !important;\n}\n</style>\n\n<style>\n/*\nOverwrite the default z-index for CKEditor\nhttps://github.com/ckeditor/ckeditor5/issues/1142\n */\n .ck .ck-reset {\n\tbackground: var(--color-main-background) !important;\n }\n .custom-item-username {\n\tcolor: var(--color-main-text) !important;\n }\n .link-title{\n\tcolor: var(--color-main-text) !important;\n }\n .link-icon{\n\twidth : 20px !important;\n\tmargin-right : 1em !important;\n\tfilter : var(--background-invert-if-dark);\n }\n .custom-item {\n\twidth : 100% !important;\n\tborder-radius : 8px !important;\n\tpadding : 4px 8px !important;\n\tdisplay :block;\n\tbackground:var(--color-main-background)!important;\n }\n .custom-item:hover {\n\tbackground:var(--color-primary-element-light)!important;\n }\n .link-container{\n\tborder-radius :8px !important;\n\tpadding :4px 8px !important;\n\tdisplay : block;\n\twidth : 100% !important;\n\tbackground:var(--color-main-background)!important;\n }\n .link-container:hover {\n\tbackground:var(--color-primary-element-light)!important;\n }\n:root {\n\t--ck-z-default: 10000;\n\t--ck-balloon-border-width:  0;\n\t}\n</style>\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=js\"","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=2d80d17f&prod&lang=scss&scoped=true\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=0&id=2d80d17f&prod&lang=scss&scoped=true\";\n       export default content && content.locals ? content.locals : undefined;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=2d80d17f&prod&lang=css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=style&index=1&id=2d80d17f&prod&lang=css\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=2d80d17f&scoped=true\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=js\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=js\"\nimport style0 from \"./TextEditor.vue?vue&type=style&index=0&id=2d80d17f&prod&lang=scss&scoped=true\"\nimport style1 from \"./TextEditor.vue?vue&type=style&index=1&id=2d80d17f&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d80d17f\",\n  null\n  \n)\n\nexport default component.exports"],"names":["map","webpackAsyncContext","req","webpackAsyncContextResolve","then","id","__webpack_require__","t","e","o","Error","code","keys","Object","resolve","module","exports","TRIGGER_CHANGE_ALIAS","TRIGGER_EDITOR_READY","InsertSignatureCommand","Command","removeSignatureElement","editor","writer","range","model","createRangeIn","document","getRoot","value","getWalker","shallow","item","is","name","remove","insertSignatureElement","signature","signatureAboveQuote","length","viewFragment","data","processor","toView","modelFragment","toModel","signatureElement","createElement","append","createText","signaturePosition","this","findPosition","insertContent","createPositionBefore","createPositionAt","hasSignatureElement","execute","trigger","change","refresh","isEnabled","___CSS_LOADER_EXPORT___","push","Signature","Plugin","init","_defineSchema","_defineConverters","commands","add","schema","register","inheritAllFrom","conversion","elementToElement","view","classes","Quote","Mail","requires","Paragraph","_overwriteParagraphConversion","styles","margin","converterPriority","InsertItemCommand","insertItem","currentPosition","selection","getLastPosition","walker","createRange","getShiftedBy","direction","type","includes","text","lastSlash","lastIndexOf","textElement","insertText","substring","itemElement","PickerPlugin","components","ckeditor","CKEditor","props","String","required","html","Boolean","default","placeholder","focus","bus","disabled","plugins","EssentialsPlugin","ParagraphPlugin","SignaturePlugin","QuotePlugin","Mention","toolbar","HeadingPlugin","AlignmentPlugin","BoldPlugin","ItalicPlugin","BlockQuotePlugin","LinkPlugin","ListStyle","FontPlugin","RemoveFormat","StrikethroughPlugin","ImagePlugin","ImageUploadPlugin","Base64UploadAdapter","ImageResizePlugin","MailPlugin","unshift","linkTribute","emojiTribute","textSmiles","ready","Editor","config","items","language","mention","feeds","marker","feed","getEmoji","itemRenderer","customEmojiRenderer","getLink","customLinkRenderer","beforeMount","loadEditorTranslations","getLanguage","methods","results","searchProvider","title","toLowerCase","emojiResults","emojiSearch","classList","concat","colons","textContent","native","usernameElement","appendChild","icon","src","icon_url","showEditor","logger","debug","error","onEditorReady","_editor$commands$get","get","on","event","stop","eventData","emojiAddRecent","editorInstance","getLinkWithPicker","link","editing","catch","console","priority","$emit","ui","_focusableToolbarDefinitions","toolbarView","element","$on","appendToBodyAtCursor","onEditorInput","toAppend","editorExecute","commandName","_len","arguments","args","Array","_key","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","_vm","_c","_self","attrs","_e"],"sourceRoot":""}